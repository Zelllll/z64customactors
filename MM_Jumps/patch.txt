;;;; Majora's Mask Link jumping animations in Ocarina of Time (MQ DBG) ;;;;

;; Adds two alternate jumping animations which are triggered if Link
;; quickly jumps from one platform to another.

;; If Link is too slow then the default animation will play instead 

; Add the frontflip animation data into Link's aniamtion file
0x5FA020,FFE90AA1FFD4FB7B00000000C0000D26C00000000000000000820224E1CD0000000044E2021001769E8B0026FD74D90C0000000048BFFCC9FFB2B5B040D5E1273FDCFFD400532BF9000000006B9D000000000000FD22E471A24800000000F4ECFA21EEE9BACFF8C71D79820D00000000F2740FDC0E95B9F6C50E69F006C10000000000000000FFE90CE400A0F91400000000C0000E23C000000000000000015201CEF255000000002DEC01B300A3B4FAFD40FD76F3510000000022ADFDE20134D111405AE7A33FF2FFD800412E63000000006C9E000000000000EFF7DAC6B55200000000EF97F4D0EDF7B797F45E2D767D7B00000000EC94122010E8BAD9CA2C6BA0110A0000000000000000FFE80E42011D000000000000C0000F8AC00000000000000002530263EBD9000000002D2C0181FFF3C373FD4BFEADFAB20000000006B8FE8A0212E0B34000EB4A4000FFDF002D31AF000000006E04000000000000E9D0D6BBBB6300000000E725EF0EECCDB420F14B35EA780800000000E351134A1208BB65CC546CC915B30000000000000000FFE80EA20140198300000000C0001143C0000000000000000177033EC42A0000000045B5018BFF83C701FE58FD62CBFF000000002F38FE900201DFE74000E9EA4000FFE9001A358D000000006FB1000000000000FCA1E63794C500000000D149EA9FEBA1B17BF459259E703400000000CC50135011EEBB94CD8E6D9818730000000000000000FFE80EF001583E5B00000000C0001339C000000000000000FE9B009B9A6D0000000057F001AEFF1FC740FFC6FD2C9FFA0000000046A9FE5C018FD8E14000E5064000FFF5000F39AC0000000071890000000000000C7DF50471AB00000000C1D9E949EAA9B0BDFB4E14EA6F4500000000BA99134A11C3BBC2CE516E2A1A350000000000000000FFE70F2B01695E8700000000C0001554C000000000000000F9B9F6758AAD00000000662501DBFEC2C58902D5FFA28797000000005E01FE0900F6CECD4001DD033FFF000400103DBE00000000736F00000000000002BEEFF677EB00000000C974EA6BE9DFB185043018617CA300000000BD891338118ABBF0CED06E901B620000000000000000FFE70F5301727B8100000000C000177DC00000000000000003380EA7A7DF0000000066520206FE68C33501B5FC68B4E900000000617BFDB6006EC4DA4013CF663FE8001600224171000000007547000000000000F182E670890C00000000D795EC2CE916B2AF0E0D20698EAE00000000C585131C1144BC1DCF316EE31C4F0000000000000000FFE60F640177948700000000C000199DC000000000000000142907BBDE80000000001D0C0221FE09C19DFE46FDB6EA3D00000000296BFD800032BE364057C3113FA7002A004944770000000076F4000000000000DF2DDAF99D6200000000E795EE73E850B42C191929AAA2F500000000D00F12F610F2BC49CF756F1E1CF80000000000000000FFE60F5F0178A53000000000C0001B9DC00000000000000015A30184F8E700000000003B021DFDA1C21AFE0FFE140894000000000000FD93009ABF0BC399C136BC640057007845C8000000007859000000000000D1E7CFACAD2B00000000F4D0F128E78BB5ED2570310BB6B600000000DAA912C81097BC73CF8C6F331D330000000000000000FFE50F430178AE8300000000C0001D67C000000000000000135E01F3028500000000003A0196FD02C987FE2AFDD408A4000000000000FDFB01CFC82CCC01C132B3EB00C6009846170000000078E4000000000000CEE6C5F9B19D00000000FB16F435E6C9B7E43256338BC5FD00000000E33312941033BC9DCF676F121CD60000000000000000FFE50F0C0177B7C100000000C0001EE4C0000000000000000FFD00AB09ED00000000003A00D7FC5ED33CFE3DFF09089C000000000000FE4D0311D1413423C1F44BDE013700F1469F0000000078E40000000000006E97C5A7137C00000000FD65F780E608BA0343612F64D17D00000000EBF812590FC9BCC5CEF36EAD1BB60000000000000000FFE40EBB0179C4AE00000000C0001F8DC000000000000000093B04960A430000000020A7010DFC5ACFDA0043FEDF0A21000000001F96FDDF0368CEC93DBAC8FB42C0016101D448FA0000000078E400000000000088CDCEF6FAB600000000FDC3FAF4E54ABC3953512894D8B100000000F3B0121B0F5ABCEBCDE76DB319410000000000000000FFE40E4F017ED1D400000000C0001E05C000000000000000077703FA06E800000000212702E3FD96B47CFFE5FEB2087C000000001D24FC0501D5B5154211D987400700FE038E521D0000000078E40000000000009C0CD069E80800000000FCBDFE77E48EBE7A5753240FD6EF00000000F79011D80EE7BD10CC196C4F154F0000000000000000

; Add the backflip animation data into Link's animation file
0x5FABB0,FFFB08E9003D23D810E8196FBF540C6CBEBA000000000000EB0E107EA835000000004FDB01BE00C09DF6F51003C3D554000000005434FCB702DBCB6834F1EA065959FB3A089817EDFE67E73D6D380000000000000730F94D99E100000000DF8CFD7DEF77BCD82BBD29EBA0B200000000FAB40E060CADB946C000696CFD260000000000000000FFFC0BCD01E635D2F6C33FB8B9BA09A8B269000000000000D2723311BD3C0000000036B301F2FF7ABA38FFBDFA66F967000000000CC6FC8A02F8D015268AF1294DFBF9FAF94F3182FE68E7536C2D000000000000FC50DFE191F700000000E931FD80EF8CBCDD02D031BE768E00000000FAA70E080CABB94DC000696DFD260000000000000000FFF9112F028B354EEC1A4300B82D06B2AA5800000000000021B529481B840000000000000294FEA8D3070055F7F3FE51000000000000FC4C02D3D2452646FA384B3C03D2FA0E34A0FE6DE7936B0F000000000000DA5ADD60B47900000000F44CFD87EFB9BCE9D08436B5445800000000FA7A0E0C0CA6B95CC0006970FD260000000000000000FFF811B902432ECEE6A84D23BF6C05FEB58E0000000000001BC92584216000000000003B032CFEFDD2AF0120F900FEA5000000000000FC02027DD29322B50156524B034DFAE13338FE73E7FB69DE000000000000EC09DBEE9F1800000000F5B3FD92EFFBBCFCA0B43A76155900000000FA330E120C9EB971C0006975FD260000000000000000FFF811CB01E12881E1155897C857059BC37400000000000028982B4D23A200000000000003C4FF60D10C0494FC45F5FA000000000000FBB40205D19627F707664E7E0147FC103133FE7CE886689D0000000000000663DB0D803100000000F6C8FDA0F052BD1393C03EB209A500000000F9D50E1A0C93B98EC000697BFD260000000000000000FFF7118D01742155DC3E6414CFF2067AC7F500000000000025D12CE7143300000000003C0458FFC0CEAA08C6F70EE77B00000000131FFB68017ACFE728EE0A3F4B5EFEC7FC532F33FE87E932674F0000000000002206DB315FFE00000000F795FDB1F0BBBD30BC5E3B62335900000000F9660E240C87B9B0C0006982FD260000000000000000FFF4112A010C1833D8FF6E54D75E07FBC9C500000000000013ED2267FE0500000000003B04E20009CC160B95EAE3EA660000000013B9FB2600EDCE2129900AD04764FCD1FA622DDAFE94E9FB65F6000000000000379CDBBC46B800000000F825FDC5F134BD51A11A36F5182B00000000F8EB0E300C78B9D8C000698AFD260000000000000000FFED10CC00B60C07D836760EDB5B093BCA5E0000000000000A8A17C6F3AF000000000FCC055F002BC9DC0917E0E9F8F6000000000C66FAF4006DCCDC29D5082945C6FB4DF0562E3EFEA3EADF64930000000000004155DBE43B5D00000000F87FFDDBF1BDBD778A80339FFFFE00000000F8680E3C0C68BA05C0006993FD260000000000000000FFDF106F006FFA4EDB137AC0D9E209C0CA2400000000000004BF109DF03B00000000352505DE000AC7F11724DA12EF98000000001E31FADCFFEDCBBB28D900404A3CFBBEE53C2F36FEB3EBDA63290000000000004107DB8F3C0900000000F8AFFDF4F252BDA0824F3144F2BA00000000F7E20E4A0C57BA36C000699DFD260000000000000000FFCC0FF7002BE3C1E1027D42D4D20A0EC8A70000000000000F1AFDCDFB83000000003B830665FFB2C5E02244D2FCD02A0000000013C0FADBFF58CA102453F6F7514F0204E3072F52FEC5ECEA61BA0000000000003CB9DAFB41A400000000F8BEFE0EF2F3BDCC8B9B302DF3E900000000F75D0E590C44BA6AC00069A8FD260000000000000000FFB80F6AFFF3CC23E83B7E5CCED60ABAC61100000000000016C0EF66FE0D00000000275806E3FF43C39E0B41DE1ED978000000000000FAE3FEB8C7FF1C98EEFD56D5071CE4072F44FED7EE0B60470000000000003540DA474B1700000000F8B6FE29F39DBDFAA1A8310B01B300000000F6E00E690C2FBAA2C00069B4FD260000000000000000FFA50ECFFFCAB73CEEF67ED3C8CC0D32C1710000000000000E2AE8D90B0300000000003B0747FEE0C11C07CEE8B8E4D7000000000000FAE8FE18C5AB12BBE534555406CCE54E2F16FEEBEF395ED50000000000002B6FD997574E00000000F8A0FE46F44EBE2BBE5634FF18C400000000F66E0E7A0C1ABADCC00069C0FD260000000000000000FF980E2BFFB9A8D0F3697F6FC1090FD0BB780000000000000BFCF2D6E8550000000000000781FEADBE4E0784EA77E6E70000000003D7FADCFD80C3371171DDD34E840599E7312EAAFEFFF0735D630000000000002031D910652300000000F886FE64F506BE5D98C23DD0F21800000000F60C0E8B0C05BB18C00069CCFD260000000000000000FF9E0D6D000BA2CAF5C98028B85D0ED7B77200000000000004EFFDFBD8DA00000000003C077FFECABB2707DDEE56D7D9000000000686FAB3FCFAC0C51DEBE38B46FF03CBE93C2E42FF14F1B55BF50000000000001485D8D2735B00000000F872FE83F5C2BE90C1C82EB91D5600000000F5BF0E9D0BEEBB56C00069D9FD260000000000000000

; Update the animation pointer for the frontflip
0xF60B78,000D

; Update the animation pointer for the backflip
0xF60B88,000E

; Add control code that determines when the jumps should occur
; Hook:
0xB06658,0C03604D
0xB06A04,00000000
; Code:
0xB4F2C4,03E000080000000000000000000000003C03800E8C6382683C0480212C62001F144000038C853C643C01800EA02081303C0204003C04800E8C84812C24462B8810860030244631481086001924422B7850820022000018253C02800E804281303C01800EAC20812C14400018246300013C0304008CA201BC24633148104300093C03FBFF3463D488004310212403FFEF00431024104000030000000003E00008000000003C01800E03E00008AC208268240200013C01800EA02281303C01800EAC20812C00001825246300013C01800EAC2382681000FFE73C03040024020002246300013C01800EA02281303C01800EAC20812C3C01800EAC2382681000FFDD3C0304003C01800EA02081303C01800EAC2082683C01800EAC20812C1000FFD53C03040000000000000000000000000000000000

; Edit Link's animation changing function to switch to the alternate jump animations
; Replace all references of the function:
0xB1AD10,0C036102
0xB1B264,0C036102
0xB1B2C8,0C036102
0xB1B324,0C036102
0xB1B384,0C036102
0xC01A00,0C036102
0xC01A70,0C036102
0xC01AB4,0C036102
0xC01AF4,0C036102
0xC01B38,0C036102
0xC0310C,0C036102
0xC036C8,0C036102
0xC03AE0,0C036102
0xC06650,0C036102
0xC0AF34,0C036102
0xC0B2D4,0C036102
0xC0BB08,0C036102
0xC0BC90,0C036102
0xC0E56C,0C036102
0xC0FA4C,0C036102
0xC123C4,0C036102
0xC12590,0C036102
0xC12A1C,0C036102
0xC12A6C,0C036102
0xC131EC,0C036102
0xC15590,0C036102
0xC156F4,0C036102
0xC1B294,0C036102
0xC1B374,0C036102
0xC1FE1C,0C036102
0xC1FE88,0C036102
0xC20504,0C036102
0xC20A70,0C036102
0xC20B18,0C036102

; Code:
0xB4F5A0,03E00008000000003C02040027BDFFC024423148AFB20020AFB1001CAFB00018F7B80038F7B60030F7B40028C7B60050C7B800544487A000AFBF00240080902500A0802510C2004F00C0882544800000C7A2005C93A2005B46001032000000004501003CA20200018E02000850510035C600001844800000C7A2005C4600103C0000000045010024022028258E0200244600B00D920700003C03800A34633BE444060000AE030030AFA200100C028CDB024020253C01800EC42285D0C7A0005CE602002846001003E600002CAE110008E616000CE6160018E61800100C0287F202202025448200008FBF002446800020E614001C8FB200208FB1001CD7B80038D7B60030D7B40028E60000148FB0001803E0000827BD00400C028EE3020020258E0600208E0500240C0295DD020020258FA3005C3C028000006210261000FFDDAFA2005C46160032000000004500FFC9000000000C028EE3020020258E0200204600B00D9207000044060000AFA20010022028250C028CDB024020251000FFD3AE0000283C02800E80428130000218803C02800E244285C0004310218C5100000C02880002202025448200003C01800EAC31812C1000FFA546800620000000000400314804002B7804002B88000000003F8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000